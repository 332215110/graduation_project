"use strict";(self["webpackChunkg_vue_project"]=self["webpackChunkg_vue_project"]||[]).push([[792],{4792:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{staticStyle:{float:"right"},attrs:{round:"",type:"primary"},on:{click:function(t){return e.submitRecord(e.personRecord)}}},[e._v("入库")]),a("el-button",{staticStyle:{float:"right","margin-right":"7px"},attrs:{round:"",type:"info"},on:{click:e.clearFilter}},[e._v("重置数据")]),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),stripe:"",height:"80vh"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"查询作者"}},[a("span",[e._v(e._s(t.row.author))])]),a("el-form-item",{attrs:{label:"论文所有作者"}},[a("span",[e._v(e._s(t.row.authors))])]),a("el-form-item",{attrs:{label:"论文ee"}},[a("span",[e._v(e._s(t.row.ee))])]),a("el-form-item",{attrs:{label:"论文ID"}},[a("span",[e._v(e._s(t.row.id))])]),a("el-form-item",{attrs:{label:"期刊名称"}},[a("span",[e._v(e._s(t.row.journal))])]),a("el-form-item",{attrs:{label:"论文页数"}},[a("span",[e._v(e._s(t.row.pages))])]),a("el-form-item",{attrs:{label:"论文标题"}},[a("span",[e._v(e._s(t.row.title))])]),a("el-form-item",{attrs:{label:"论文dblpUrl"}},[a("span",[e._v(e._s(t.row.url))])]),a("el-form-item",{attrs:{label:"期刊收录年份"}},[a("span",[e._v(e._s(t.row.year))])])],1)]}}])}),a("el-table-column",{attrs:{label:"论文ID",prop:"id"}}),a("el-table-column",{attrs:{label:"查询作者",prop:"author"}}),a("el-table-column",{attrs:{label:"论文标题",prop:"title"}}),a("el-table-column",{attrs:{label:"期刊收录年份",prop:"year",filters:[{text:"2023",value:"2023"},{text:"2022",value:"2022"},{text:"2021",value:"2021"},{text:"2020",value:"2020"},{text:"2019",value:"2019"},{text:"2018",value:"2018"},{text:"2017",value:"2017"},{text:"2016",value:"2016"},{text:"2015",value:"2015"},{text:"2014",value:"2014"},{text:"2013",value:"2013"},{text:"2012",value:"2012"},{text:"2011",value:"2011"},{text:"2010",value:"2010"},{text:"2009",value:"2009"},{text:"2008",value:"2008"},{text:"2007",value:"2007"},{text:"2006",value:"2006"},{text:"2005",value:"2005"},{text:"2004",value:"2004"},{text:"2003",value:"2003"},{text:"2002",value:"2002"},{text:"2001",value:"2001"},{text:"2000",value:"2000"}],"filter-method":e.filterHandler}}),a("el-table-column",{attrs:{type:"selection",width:"55"}})],1),a("div",{staticClass:"block",staticStyle:{"margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[1,5,10,15,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length,"hide-on-single-page":"true"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],n=a(9881),i=a(3413),s={data(){return{tableData:[],currentPage:1,total:20,pageSize:15,multipleSelection:[],personRecord:[]}},created:async function(){let e=[];await(0,n.Yv)(JSON.parse(localStorage.getItem("user-info"))).then((function(t){200==t.data.code?e=t.data.data:202==t.data.code?alert(t.data.msg):502==t.data.code?i.Z.push("/"):alert(t.data.msg)})),this.tableData=e;let t={tableData:this.tableData};localStorage.setItem("dblp-paper",JSON.stringify(t))},methods:{handleSizeChange(e){this.currentPage=1,this.pageSize=e},handleCurrentChange(e){this.currentPage=e},handleSelectionChange(e){this.personRecord=[],this.multipleSelection=e;for(let t=0;t<this.multipleSelection.length;t++){let e={userid:JSON.parse(localStorage.getItem("user-info")).id,paperid:this.multipleSelection[t].id,journal:this.multipleSelection[t].journal};this.personRecord.push(e)}},submitRecord(e){(0,n.xL)(e).then((function(e){200==e.data.code?console.log(e.data.msg):(e.data.code,alert(e.data.msg))})),e=[]},clearFilter(){this.tableData=JSON.parse(localStorage.getItem("dblp-paper")).tableData,this.$refs.multipleTable.clearFilter()},filterHandler(e,t,a){for(let r=0;r<this.tableData.length;r++)this.tableData[r].year!=e&&this.tableData.splice(r,1);const l=a["property"];return t[l]===e}}},o=s,u=a(9724),p=(0,u.Z)(o,l,r,!1,null,null,null),c=p.exports}}]);
//# sourceMappingURL=792.d87cc605.js.map
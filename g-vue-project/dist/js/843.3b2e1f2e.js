"use strict";(self["webpackChunkg_vue_project"]=self["webpackChunkg_vue_project"]||[]).push([[843],{9843:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"register-cont"}},[r("div",{attrs:{id:"register-title"}},[e._v(" 注册 ")]),r("el-form",{ref:"register",attrs:{"label-position":e.top,model:e.register,"status-icon":"",rules:e.rules}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{autocomplete:"off",placeholder:"Please input your username"},model:{value:e.register.username,callback:function(t){e.$set(e.register,"username",t)},expression:"register.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"Please input your password"},model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkpassword"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"Please confirm your password"},model:{value:e.register.checkpassword,callback:function(t){e.$set(e.register,"checkpassword",t)},expression:"register.checkpassword"}})],1),r("el-form-item",{attrs:{label:"论文常用名",prop:"name"}},[r("el-input",{attrs:{autocomplete:"off",placeholder:"Please input your name"},model:{value:e.register.name,callback:function(t){e.$set(e.register,"name",t)},expression:"register.name"}})],1),r("el-form-item",{attrs:{label:"dblp用户绑定"}},[r("span",[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.register.dblp_url,callback:function(t){e.$set(e.register,"dblp_url",t)},expression:"register.dblp_url"}},e._l(e.options,(function(t){return r("el-option",{key:t.url,staticStyle:{height:"auto"},attrs:{label:t.author,value:t.url}},[r("span",{staticStyle:{float:"left",position:"relative",display:"block"}},[e._v(" "+e._s(t.author)+" ")]),e._l(t.note,(function(t){return r("div",{key:t.text},[r("span",{staticStyle:{float:"left",display:"block",color:"#8492a6","font-size":"13px"}},[e._v(" "+e._s(t.text))])])}))],2)})),1)],1)]),r("div",{attrs:{id:"register-to-login"}},[r("p",[e._v("没有账号？点击"),r("router-link",{attrs:{to:"/login"}},[e._v("登陆")])],1)]),r("el-form-item",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("register",e.register)}}},[e._v("注册")]),r("el-button",{on:{click:function(t){return e.resetForm("register")}}},[e._v("重新输入")]),r("el-button",{attrs:{type:"info",id:"search-name"},on:{click:function(t){return e.getUrl(e.register.name)}}},[e._v("检索dblp用户名")])],1)],1)],1)},s=[],l=r(8587),a=r(9881),i={data(){let e=(e,t,r)=>{let o=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,20}$/;""==t?r(new Error("请输入密码")):o.test(t)?r():r(new Error("密码必须是由8-20位字母+数字组合"))};var t=(e,t,r)=>{""===t?r(new Error("请再次输入密码")):t!==this.register.password?r(new Error("两次输入密码不一致!")):r()};return{info:"",register:{username:"",password:"",checkpassword:"",name:"",dblp_url:""},options:[],rules:{username:[{required:!0,message:"请输入用户名"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"}],password:[{required:!0,message:"必填"},{validator:e,trigger:"blur"}],checkpassword:[{required:!0,message:"请再次填写密码"},{validator:t,trigger:"blur"}],name:[{required:!0,message:"请填写论文中使用的名字（英文）"},{min:1,max:1e3,message:"必填",trigger:"blur"}]}}},methods:{getUrl(e){this.options=[],(0,l.Z)({url:"https://dblp.org/search/author/api",params:{q:e,h:1e3,format:"json"}}).then((t=>{console.log(e),console.log("/a",t.data.result.hits.hit);var r=t.data.result.hits.hit;if(void 0!=r)for(let e=0;e<r.length;e++){var o={author:"",url:"",note:[]};if("notes"in r[e].info)if("[object Object]"===Object.prototype.toString.call(r[e].info.notes.note))o.author=r[e].info.author,o.url=r[e].info.url,o.note.push(r[e].info.notes.note);else for(let t=0;t<r[e].info.notes.note.length;t++)o.author=r[e].info.author,o.url=r[e].info.url,o.note.push(r[e].info.notes.note[t]);else o.author=r[e].info.author,o.url=r[e].info.url,o.note.push({text:"无单位绑定"});this.options.push(o)}else alert("无相关姓名作者")}),(e=>{console.log(e)}))},resetForm(e){this.$refs[e].resetFields()},submitForm(e,t){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;console.log(t),(0,a.z2)(t).then((function(e){console.log(e),alert(e.data.msg)})).catch((function(e){console.log(e)}))}))}}},n=i,u=r(9724),p=(0,u.Z)(n,o,s,!1,null,null,null),c=p.exports}}]);
//# sourceMappingURL=843.3b2e1f2e.js.map